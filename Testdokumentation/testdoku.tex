\input{Testdokumentation/testcases}
%%%%%%%%%%%%%%%%%%%%% Ergebnisse %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Testdokumentation}

\subsection{Unit Tests}
Die 4 Klassen des Pakets model wurden mittels JUnit getestet.

\subsection{Manuelle Systemtests}
\subsubsection{Testdaten}
Für die meisten Systemtests wurde der Testdatensatz der Tabellen \ref{tab:testAppointments} und \ref{tab:testGroups} verwendet.

\begin{table}
  \caption{Testdatensatz Termine}
  \label{tab:testAppointments}
  \begin{tabular}{|l|l|l|l|l|l|}
    \hline
    Datum & Zeitfenster & Zustand & Bemerkung & gebuchte/reservierte Gruppe & Buchungsdetails \\
    \hline \hline

    2018-07-09 & 07:30-16:40 & deaktiviert & NULL & & \\
    2018-07-10 & 07:30-16:40 & frei & NULL & & \\
    2018-07-11 & 07:30-16:40 & gebucht & NULL & Gruppe 1 & 09:00 \\
    2018-07-12 & 07:30-16:40 & reserviert & NULL & Gruppe 2 & \\
    2018-07-13 & 07:30-16:40 & frei & NULL & & \\
    \hline
    2018-07-16 & 07:30-16:40 & gebucht &NULL  & Gruppe 3 & 09:00 \\
    2018-07-17 & 07:30-16:40 & frei & NULL & & \\
    2018-07-18 & 07:30-16:40 & deaktiviert & NULL & & \\
    2018-07-19 & 07:30-16:40 & reserviert & NULL & Gruppe 4 & \\
    2018-07-20 & 07:30-16:40 & frei & NULL & & \\
    \hline
    2018-07-23 & 07:30-16:40 & frei & NULL & & \\
    2018-07-24 & 07:30-16:40 & frei & NULL & & \\
    2018-07-25 & 07:30-16:40 & frei & NULL & & \\
    2018-07-26 & 07:30-16:40 & frei & NULL & & \\
    2018-07-27 & 07:30-16:40 & frei & NULL & & \\
    \hline
  \end{tabular}
\end{table}

\begin{table}
  \caption{Testdatensatz Gruppen}
  \label{tab:testGroups}
  \begin{tabular}{|l|}
    \hline
    Gruppe \\
    \hline \hline
    1 \\
    2 \\
    3 \\
    4 \\
    6 \\
    7 \\
    \hline
  \end{tabular}
\end{table}

\subsubsection{Tests des Teilsystems Termine anzeigen und Buchen am 13.7.}
\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testLogInGroup
}{Terminübersicht}{Test uneingeschränkt bestanden}

\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testReserveDeactivated
}{Oberfläche lässt Reservierung eines deaktivieren Termins nicht zu}{Test bestanden}

\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testReserveBooked
}{Oberfläche lässt Reservierung eines gebuchten Termins nicht zu}{Test bestanden}

\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testReserve
}{Termin 20.7. ist von Gruppe reserviert, Reservierungstext ist nicht komplett sichtbar}{Test bestanden, jedoch mit Makel. Das Textfeld für den Zustand sollte verbreitert werden}

\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testReserveGroupAlreadyBooked
}{Oberfläche lässt Reservierung nicht zu, wenn bereits gebucht ist}
{Test bestanden}

\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testCancelReservation
}{Termin ist frei, Gruppe 2 hat keine Reservierung mehr}
{Test bestanden}

\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testCancelOtherReservation
}{Oberfläche lässt Stornierung nicht zu, wenn der Termin durch andere Gruppe reserviert ist}
{Test bestanden}

\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testCancelReservationNoReservationPresent
}{Oberfläche lässt Stornierung nicht zu, wenn der nicht reserviert ist}
{Test bestanden}

\testReport{13.7.2018 13:00}{Oliver von Seydlitz}{
  \testBook
}{Nichts passiert}
{Test nicht bestanden. Ursache: OperationNotAllowedException, da Zeitfenster falsch in der Datenbank eingetragen werden. Maßnahme: Entsprechende Stelle in der Klasse DBRepository korrigieren}

Nach Behebung dieses Fehlers wurden dann weitere Tests zum Anwendungsfall "`Termin buchen"' durchgeführt.

\testReport{13.7.2018 13:30}{Oliver von Seydlitz}{
  \testBook
}{Termin ist durch Gruppe 5 gebucht}
{Test bestanden}

\testReport{13.7.2018 13:30}{Oliver von Seydlitz}{
  \testBookGroupBookedAlready
}{Oberfläche lässt Buchung nicht zu, wenn Gruppe bereits gebucht hat}
{Test bestanden}

\testReport{13.7.2018 13:30}{Oliver von Seydlitz}{
  \testBookGroupHasReservation
}{Oberfläche lässt Buchung eines anderen Termins nicht zu, wenn die Gruppe bereits reserviert hast}
{Defekt. Die Buchung anderer Termine sollte möglich sein, ohne die Reservierung stornieren zu müssen. Die Oberfläche sollte angepasst werden.}

\testReport{13.7.2018 13:30}{Oliver von Seydlitz}{
  \testBookReservedByOther
}{Oberfläche lässt Buchung eines durch eine andere Gruppe reservierten Termins nicht zu}
{Test bestanden}
